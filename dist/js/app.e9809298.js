(function(t){function e(e){for(var a,i,s=e[0],l=e[1],u=e[2],c=0,h=[];c<s.length;c++)i=s[c],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&h.push(o[i][0]),o[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);m&&m(e);while(h.length)h.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],a=!0,i=1;i<n.length;i++){var s=n[i];0!==o[s]&&(a=!1)}a&&(r.splice(e--,1),t=l(l.s=n[0]))}return t}var a={},i={app:0},o={app:0},r=[];function s(t){return l.p+"js/"+({about:"about"}[t]||t)+"."+{about:"14208656"}[t]+".js"}function l(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.e=function(t){var e=[],n={about:1};i[t]?e.push(i[t]):0!==i[t]&&n[t]&&e.push(i[t]=new Promise((function(e,n){for(var a="css/"+({about:"about"}[t]||t)+"."+{about:"3be9dee7"}[t]+".css",o=l.p+a,r=document.getElementsByTagName("link"),s=0;s<r.length;s++){var u=r[s],c=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(c===a||c===o))return e()}var h=document.getElementsByTagName("style");for(s=0;s<h.length;s++){u=h[s],c=u.getAttribute("data-href");if(c===a||c===o)return e()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=e,m.onerror=function(e){var a=e&&e.target&&e.target.src||o,r=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=a,delete i[t],m.parentNode.removeChild(m),n(r)},m.href=o;var d=document.getElementsByTagName("head")[0];d.appendChild(m)})).then((function(){i[t]=0})));var a=o[t];if(0!==a)if(a)e.push(a[2]);else{var r=new Promise((function(e,n){a=o[t]=[e,n]}));e.push(a[2]=r);var u,c=document.createElement("script");c.charset="utf-8",c.timeout=120,l.nc&&c.setAttribute("nonce",l.nc),c.src=s(t);var h=new Error;u=function(e){c.onerror=c.onload=null,clearTimeout(m);var n=o[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;h.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",h.name="ChunkLoadError",h.type=a,h.request=i,n[1](h)}o[t]=void 0}};var m=setTimeout((function(){u({type:"timeout",target:c})}),12e4);c.onerror=c.onload=u,document.head.appendChild(c)}return Promise.all(e)},l.m=t,l.c=a,l.d=function(t,e,n){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)l.d(n,a,function(e){return t[e]}.bind(null,a));return n},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/",l.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=e,u=u.slice();for(var h=0;h<u.length;h++)e(u[h]);var m=c;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var a=n("85ec"),i=n.n(a);i.a},"0ed0":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},o=[],r=(n("034f"),n("2877")),s={},l=Object(r["a"])(s,i,o,!1,null,null,null),u=l.exports,c=(n("d3b7"),n("8c4f")),h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",[t._v("账单显示页面")]),n("button",{staticClass:"btn",on:{click:t.dropDown}},[t._v(" "+t._s(t.ct_year)+"/"+t._s(t.ct_month)+" ")]),n("button",{staticClass:"btn"},[n("router-link",{attrs:{to:"/about"}},[t._v("记账")])],1),n("div",{staticClass:"time_list",style:t.is_showtime?"dispaly:block;":"display:none;"},[n("span",{class:{year_list:!0,bg_red:2019==t.tem_year},on:{click:function(e){return t.selectTime(e,2019)}}},[t._v("2019年")]),n("span",{class:{year_list:!0,bg_red:2020==t.tem_year},on:{click:function(e){return t.selectTime(e,2020)}}},[t._v("2020年")]),n("ul",{staticClass:"month_list",on:{click:function(e){return t.selectTime(e,void 0)}}},t._l(t.months,(function(e,a){return n("li",{key:a,style:t.tem_month-1==a?"background-color:rgb(252, 143, 143);":"",attrs:{"data-i":a+1}},[t._v(t._s(e)+"月")])})),0)]),n("hr"),n("div",{directives:[{name:"show",rawName:"v-show",value:t.bill.length>0,expression:"bill.length>0"}]},[n("span",[t._v("支出"+t._s(t.output)+" ")]),n("span",[t._v("收入"+t._s(t.input))]),n("hr"),n("ul",{staticClass:"cash_list"},t._l(t.bill,(function(e,a){return n("li",{key:a},[n("div",{staticClass:"cash_style"},[n("div",[n("div",{staticClass:"cash_name"},[t._v(t._s(e.name))]),n("div",[t._v("日期:"+t._s(e.time))])]),n("div",{staticClass:"cash_amount"},[t._v(t._s(e.type?e.amount:"-"+e.amount))])]),n("hr")])})),0)]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.bill.length<=0,expression:"bill.length<=0"}]},[t._v("无账单记录")])])},m=[],d=(n("b0c0"),n("b680"),{data:function(){return{data:this.$store.getters.getGdata.bills,ct_year:"",ct_month:"",tem_year:void 0,tem_month:void 0,years:[],months:[1,2,3,4,5,6,7,8,9,10,11,12],bill:[],input:0,output:0,is_showtime:!1}},methods:{firstLoad:function(){var t=this.timeRange(this.ct_year,this.ct_month);this.dataHandling(t[0],t[1])},dropDown:function(){this.is_showtime=!this.is_showtime,this.is_showtime&&(this.tem_month=void 0,this.tem_year=void 0)},selectTime:function(t,e){if(console.log(t.target),"LI"==t.target.nodeName?this.tem_month=parseInt(t.target.dataset.i):"SPAN"==t.target.nodeName&&(this.tem_year=e),this.tem_year&&this.tem_month){var n=this.timeRange(this.tem_year,this.tem_month);this.is_showtime=!this.is_showtime,this.dataHandling(n[0],n[1])}},timeRange:function(t,e){console.log(t+"-"+e+"-1");var n=new Date(t+"-"+e+"-1").getTime();if(12==e){t+=1;var a=new Date(t+"-1-1").getTime()}else{e+=1;a=new Date(t+"-"+e+"-1").getTime()}return[n,a]},dataHandling:function(t,e){this.bill=[],this.input=0,this.output=0;for(var n=0;n<this.data.length;n++)if(this.data[n].time>=parseInt(t)&&this.data[n].time<parseInt(e)){if(this.data[n].amount>0)var a=this.data[n].amount.toFixed(2);else{a=-this.data[n].amount;a=a.toFixed(2),a=-a}var i={type:this.data[n].type,name:this.data[n].name,oldtime:this.data[n].time,time:this.commonFunc.timeFormat(this.data[n].time),amount:a};this.data[n].type?this.input+=this.data[n].amount:this.output+=this.data[n].amount,this.bill.push(i)}this.input=this.input.toFixed(2),this.output=this.output.toFixed(2),this.billSort(),this.ct_year=this.tem_year,this.ct_month=this.tem_month,this.tem_month=void 0,this.tem_year=void 0},billSort:function(){for(var t=0;t<this.bill.length-1;t++)for(var e=0;e<this.bill.length-1-t;e++)if(this.bill[e].oldtime<this.bill[e+1].oldtime){var n=this.bill[e+1];this.bill[e+1]=this.bill[e],this.bill[e]=n}console.log(this.bill)}},created:function(){var t=(new Date).getFullYear();this.ct_year=this.tem_year=t;var e=(new Date).getMonth()+1;this.ct_month=this.tem_month=e,this.firstLoad()}}),f=d,p=(n("f764"),Object(r["a"])(f,h,m,!1,null,"83faf0aa",null)),v=p.exports,_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.is_showpage,expression:"!is_showpage"}]},[t._v("数据加载中。。。。。")]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.is_showpage,expression:"is_showpage"}]},[n("router-link",{attrs:{to:"/home"}},[t._v("查看账单")]),n("br"),n("br"),n("router-link",{attrs:{to:"/about"}},[t._v("记账")])],1)])},g=[],b={data:function(){return{is_showpage:!1}},methods:{loadHome:function(){var t=this;console.log("index"),this.$store.getters.getGdata.bills?this.is_showpage=!0:requestAnimationFrame((function(){t.loadHome()}))}},created:function(){this.loadHome()}},y=b,w=Object(r["a"])(y,_,g,!1,null,null,null),x=w.exports;a["a"].use(c["a"]);var k=[{path:"/",name:"Index",component:x},{path:"/home",name:"Home",component:v},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}}],O=new c["a"]({routes:k}),T=O,C=n("2f62");a["a"].use(C["a"]);var S=new C["a"].Store({state:{g_data:[]},getters:{getGdata:function(t){return t.g_data}},mutations:{setGdata:function(t,e){t.g_data=e,console.log("修改成功")}},actions:{},modules:{}}),j=n("bc3a"),E=n.n(j),N=(n("c975"),n("fb6a"),n("ac1f"),n("466d"),{timeFormat:function(t){var e=new Date(t).toLocaleString(),n=new Date(t).toTimeString(),a=e.indexOf(" ");e=e.slice(0,a)+"   ";var i=/\d{2}:\d{2}/g;return e+n.match(i)}});a["a"].prototype.commonFunc=N,a["a"].prototype.axios=E.a,E.a.defaults.baseURL="http://localhost:4000",a["a"].config.productionTip=!1,new a["a"]({router:T,store:S,created:function(){var t=this;console.log("mian"),this.axios.get("/").then((function(e){t.$store.commit("setGdata",e.data)}))},render:function(t){return t(u)}}).$mount("#app")},"85ec":function(t,e,n){},f764:function(t,e,n){"use strict";var a=n("0ed0"),i=n.n(a);i.a}});
//# sourceMappingURL=app.e9809298.js.map